<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>12.1 Import Data and Pre-processing | R for Data Analytics</title>
  <meta name="description" content="This is a collection of examples on using R for Data Analytics" />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="12.1 Import Data and Pre-processing | R for Data Analytics" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a collection of examples on using R for Data Analytics" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="12.1 Import Data and Pre-processing | R for Data Analytics" />
  
  <meta name="twitter:description" content="This is a collection of examples on using R for Data Analytics" />
  

<meta name="author" content="Abhay Singh" />


<meta name="date" content="2021-07-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  <link rel="shortcut icon" href="rforda.png" type="image/x-icon" />
<link rel="prev" href="12-decision-trees-using-r.html"/>
<link rel="next" href="12-2-visualisation-some-features.html"/>
<script src="libs/header-attrs-2.9/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.4.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<link href="libs/font-awesome-5.1.0/css/all.css" rel="stylesheet" />
<link href="libs/font-awesome-5.1.0/css/v4-shims.css" rel="stylesheet" />
<link href="libs/wordcloud2-0.0.1/wordcloud.css" rel="stylesheet" />
<script src="libs/wordcloud2-0.0.1/wordcloud2-all.js"></script>
<script src="libs/wordcloud2-0.0.1/hover.js"></script>
<script src="libs/wordcloud2-binding-0.2.1/wordcloud2.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">R for Data Analytics</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a></li>
<li class="part"><span><b>Part I</b></span></li>
<li class="chapter" data-level="1" data-path="1-what-is-r.html"><a href="1-what-is-r.html"><i class="fa fa-check"></i><b>1</b> What is R?</a>
<ul>
<li class="chapter" data-level="1.1" data-path="1-1-why-should-we-learn-r.html"><a href="1-1-why-should-we-learn-r.html"><i class="fa fa-check"></i><b>1.1</b> Why should we learn R?</a></li>
<li class="chapter" data-level="1.2" data-path="1-2-Rinstall.html"><a href="1-2-Rinstall.html"><i class="fa fa-check"></i><b>1.2</b> Installing R and RStudio on Windows</a></li>
<li class="chapter" data-level="1.3" data-path="1-3-rstudio-guiide.html"><a href="1-3-rstudio-guiide.html"><i class="fa fa-check"></i><b>1.3</b> RStudio GUI/IDE</a></li>
<li class="chapter" data-level="1.4" data-path="1-4-installing-packages.html"><a href="1-4-installing-packages.html"><i class="fa fa-check"></i><b>1.4</b> Installing Packages</a></li>
<li class="chapter" data-level="1.5" data-path="1-5-getting-help.html"><a href="1-5-getting-help.html"><i class="fa fa-check"></i><b>1.5</b> Getting Help</a></li>
<li class="chapter" data-level="1.6" data-path="1-6-task-views-in-r-introduction-installation.html"><a href="1-6-task-views-in-r-introduction-installation.html"><i class="fa fa-check"></i><b>1.6</b> Task Views in R-Introduction &amp; Installation</a></li>
<li class="chapter" data-level="1.7" data-path="1-7-r-core-packages.html"><a href="1-7-r-core-packages.html"><i class="fa fa-check"></i><b>1.7</b> R core packages</a></li>
<li class="chapter" data-level="1.8" data-path="1-8-example-1-hello-r.html"><a href="1-8-example-1-hello-r.html"><i class="fa fa-check"></i><b>1.8</b> Example-1 Hello R!</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="2-r-data-types-and-data-structures.html"><a href="2-r-data-types-and-data-structures.html"><i class="fa fa-check"></i><b>2</b> R Data Types and Data Structures</a>
<ul>
<li class="chapter" data-level="2.1" data-path="2-1-data-types.html"><a href="2-1-data-types.html"><i class="fa fa-check"></i><b>2.1</b> Data Types</a>
<ul>
<li class="chapter" data-level="2.1.1" data-path="2-1-data-types.html"><a href="2-1-data-types.html#double"><i class="fa fa-check"></i><b>2.1.1</b> Double</a></li>
<li class="chapter" data-level="2.1.2" data-path="2-1-data-types.html"><a href="2-1-data-types.html#integer"><i class="fa fa-check"></i><b>2.1.2</b> Integer</a></li>
<li class="chapter" data-level="2.1.3" data-path="2-1-data-types.html"><a href="2-1-data-types.html#logical"><i class="fa fa-check"></i><b>2.1.3</b> Logical</a></li>
<li class="chapter" data-level="2.1.4" data-path="2-1-data-types.html"><a href="2-1-data-types.html#character"><i class="fa fa-check"></i><b>2.1.4</b> Character</a></li>
<li class="chapter" data-level="2.1.5" data-path="2-1-data-types.html"><a href="2-1-data-types.html#factor"><i class="fa fa-check"></i><b>2.1.5</b> Factor</a></li>
<li class="chapter" data-level="2.1.6" data-path="2-1-data-types.html"><a href="2-1-data-types.html#date-time"><i class="fa fa-check"></i><b>2.1.6</b> Date &amp; Time</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="2-2-data-structures-in-r.html"><a href="2-2-data-structures-in-r.html"><i class="fa fa-check"></i><b>2.2</b> Data Structures in R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="2-2-data-structures-in-r.html"><a href="2-2-data-structures-in-r.html#vector"><i class="fa fa-check"></i><b>2.2.1</b> Vector</a></li>
<li class="chapter" data-level="2.2.2" data-path="2-2-data-structures-in-r.html"><a href="2-2-data-structures-in-r.html#matrices"><i class="fa fa-check"></i><b>2.2.2</b> Matrices</a></li>
<li class="chapter" data-level="2.2.3" data-path="2-2-data-structures-in-r.html"><a href="2-2-data-structures-in-r.html#arrays"><i class="fa fa-check"></i><b>2.2.3</b> Arrays</a></li>
<li class="chapter" data-level="2.2.4" data-path="2-2-data-structures-in-r.html"><a href="2-2-data-structures-in-r.html#data-frames"><i class="fa fa-check"></i><b>2.2.4</b> Data Frames</a></li>
<li class="chapter" data-level="2.2.5" data-path="2-2-data-structures-in-r.html"><a href="2-2-data-structures-in-r.html#lists"><i class="fa fa-check"></i><b>2.2.5</b> Lists</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="2-3-data-importexport-in-r.html"><a href="2-3-data-importexport-in-r.html"><i class="fa fa-check"></i><b>2.3</b> Data Import/Export in R</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="2-3-data-importexport-in-r.html"><a href="2-3-data-importexport-in-r.html#reading-data-from-a-text-file"><i class="fa fa-check"></i><b>2.3.1</b> Reading Data from a Text File</a></li>
<li class="chapter" data-level="2.3.2" data-path="2-3-data-importexport-in-r.html"><a href="2-3-data-importexport-in-r.html#reading-data-from-csv-files"><i class="fa fa-check"></i><b>2.3.2</b> Reading Data from CSV files</a></li>
<li class="chapter" data-level="2.3.3" data-path="2-3-data-importexport-in-r.html"><a href="2-3-data-importexport-in-r.html#reading-from-excel-files"><i class="fa fa-check"></i><b>2.3.3</b> Reading from Excel Files</a></li>
<li class="chapter" data-level="2.3.4" data-path="2-3-data-importexport-in-r.html"><a href="2-3-data-importexport-in-r.html#reading-from-data-files-from-other-statistical-systems"><i class="fa fa-check"></i><b>2.3.4</b> Reading from Data Files from other Statistical Systems</a></li>
<li class="chapter" data-level="2.3.5" data-path="2-3-data-importexport-in-r.html"><a href="2-3-data-importexport-in-r.html#importing-data-using-rstudio"><i class="fa fa-check"></i><b>2.3.5</b> Importing Data using RStudio</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="3-r-programming-short-introduction.html"><a href="3-r-programming-short-introduction.html"><i class="fa fa-check"></i><b>3</b> R Programming - Short Introduction</a>
<ul>
<li class="chapter" data-level="3.1" data-path="3-1-programming-control-flow.html"><a href="3-1-programming-control-flow.html"><i class="fa fa-check"></i><b>3.1</b> Programming Control Flow</a>
<ul>
<li class="chapter" data-level="3.1.1" data-path="3-1-programming-control-flow.html"><a href="3-1-programming-control-flow.html#if-else-conditional-statements"><i class="fa fa-check"></i><b>3.1.1</b> if-else Conditional Statements</a></li>
<li class="chapter" data-level="3.1.2" data-path="3-1-programming-control-flow.html"><a href="3-1-programming-control-flow.html#loops"><i class="fa fa-check"></i><b>3.1.2</b> Loops</a></li>
<li class="chapter" data-level="3.1.3" data-path="3-1-programming-control-flow.html"><a href="3-1-programming-control-flow.html#mathttwhile-loop"><i class="fa fa-check"></i><b>3.1.3</b> <span class="math inline">\(\mathtt{while}\)</span> loop</a></li>
<li class="chapter" data-level="3.1.4" data-path="3-1-programming-control-flow.html"><a href="3-1-programming-control-flow.html#mathttrepeat-loop"><i class="fa fa-check"></i><b>3.1.4</b> <span class="math inline">\(\mathtt{repeat}\)</span> loop</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="3-2-functions-in-r.html"><a href="3-2-functions-in-r.html"><i class="fa fa-check"></i><b>3.2</b> Functions in R</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="4-data-exploration.html"><a href="4-data-exploration.html"><i class="fa fa-check"></i><b>4</b> Data Exploration</a>
<ul>
<li class="chapter" data-level="4.1" data-path="4-1-data-preprocessing.html"><a href="4-1-data-preprocessing.html"><i class="fa fa-check"></i><b>4.1</b> Data Preprocessing</a>
<ul>
<li class="chapter" data-level="4.1.1" data-path="4-1-data-preprocessing.html"><a href="4-1-data-preprocessing.html#extracting-data"><i class="fa fa-check"></i><b>4.1.1</b> Extracting Data</a></li>
<li class="chapter" data-level="4.1.2" data-path="4-1-data-preprocessing.html"><a href="4-1-data-preprocessing.html#combining-data-frames"><i class="fa fa-check"></i><b>4.1.2</b> Combining Data Frames</a></li>
<li class="chapter" data-level="4.1.3" data-path="4-1-data-preprocessing.html"><a href="4-1-data-preprocessing.html#sub-setting-and-logical-data-selection"><i class="fa fa-check"></i><b>4.1.3</b> Sub setting and Logical Data Selection</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="4-2-data-transformation-from-wide-to-long-or-vice-versa.html"><a href="4-2-data-transformation-from-wide-to-long-or-vice-versa.html"><i class="fa fa-check"></i><b>4.2</b> Data Transformation from Wide to Long (or vice versa)</a></li>
<li class="chapter" data-level="4.3" data-path="4-3-summary-statistics.html"><a href="4-3-summary-statistics.html"><i class="fa fa-check"></i><b>4.3</b> Summary Statistics</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="4-3-summary-statistics.html"><a href="4-3-summary-statistics.html#example-descriptive-statistics-of-stock-returns"><i class="fa fa-check"></i><b>4.3.1</b> Example-Descriptive Statistics of Stock Returns</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="5-graphics-in-r-part-i.html"><a href="5-graphics-in-r-part-i.html"><i class="fa fa-check"></i><b>5</b> Graphics in R (Part-I)</a>
<ul>
<li class="chapter" data-level="5.1" data-path="5-1-basic-plots-in-r.html"><a href="5-1-basic-plots-in-r.html"><i class="fa fa-check"></i><b>5.1</b> Basic Plots in R</a>
<ul>
<li class="chapter" data-level="5.1.1" data-path="5-1-basic-plots-in-r.html"><a href="5-1-basic-plots-in-r.html#scatter-plot"><i class="fa fa-check"></i><b>5.1.1</b> Scatter Plot</a></li>
<li class="chapter" data-level="5.1.2" data-path="5-1-basic-plots-in-r.html"><a href="5-1-basic-plots-in-r.html#line-plot"><i class="fa fa-check"></i><b>5.1.2</b> Line Plot</a></li>
<li class="chapter" data-level="5.1.3" data-path="5-1-basic-plots-in-r.html"><a href="5-1-basic-plots-in-r.html#bar-plot"><i class="fa fa-check"></i><b>5.1.3</b> Bar Plot</a></li>
<li class="chapter" data-level="5.1.4" data-path="5-1-basic-plots-in-r.html"><a href="5-1-basic-plots-in-r.html#pie-chart"><i class="fa fa-check"></i><b>5.1.4</b> Pie Chart</a></li>
<li class="chapter" data-level="5.1.5" data-path="5-1-basic-plots-in-r.html"><a href="5-1-basic-plots-in-r.html#scatter-plot-1"><i class="fa fa-check"></i><b>5.1.5</b> Scatter Plot</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="5-2-r-graphical-parameters.html"><a href="5-2-r-graphical-parameters.html"><i class="fa fa-check"></i><b>5.2</b> R Graphical Parameters</a></li>
<li class="chapter" data-level="5.3" data-path="5-3-introduction-to-ggplot2.html"><a href="5-3-introduction-to-ggplot2.html"><i class="fa fa-check"></i><b>5.3</b> Introduction to ggplot2</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="5-3-introduction-to-ggplot2.html"><a href="5-3-introduction-to-ggplot2.html#mathttqplot"><i class="fa fa-check"></i><b>5.3.1</b> <span class="math inline">\(\mathtt{qplot}\)</span></a></li>
<li class="chapter" data-level="5.3.2" data-path="5-3-introduction-to-ggplot2.html"><a href="5-3-introduction-to-ggplot2.html#layered-graphics-using-mathttggplot"><i class="fa fa-check"></i><b>5.3.2</b> Layered graphics using <span class="math inline">\(\mathtt{ggplot}\)</span></a></li>
<li class="chapter" data-level="5.3.3" data-path="5-3-introduction-to-ggplot2.html"><a href="5-3-introduction-to-ggplot2.html#arranging-plots-using-gridextra"><i class="fa fa-check"></i><b>5.3.3</b> Arranging plots using gridExtra</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="6-graphics-in-r-part-ii.html"><a href="6-graphics-in-r-part-ii.html"><i class="fa fa-check"></i><b>6</b> Graphics in R (Part-II)</a>
<ul>
<li class="chapter" data-level="6.1" data-path="6-1-interactive-plots-using-plotly.html"><a href="6-1-interactive-plots-using-plotly.html"><i class="fa fa-check"></i><b>6.1</b> Interactive Plots using Plotly</a></li>
<li class="chapter" data-level="6.2" data-path="6-2-animation-using-gganimate.html"><a href="6-2-animation-using-gganimate.html"><i class="fa fa-check"></i><b>6.2</b> Animation using gganimate</a></li>
<li class="chapter" data-level="6.3" data-path="6-3-plot-maps.html"><a href="6-3-plot-maps.html"><i class="fa fa-check"></i><b>6.3</b> Plot Maps</a></li>
</ul></li>
<li class="part"><span><b>Part II</b></span></li>
<li class="chapter" data-level="7" data-path="7-technical-analysis-using-r.html"><a href="7-technical-analysis-using-r.html"><i class="fa fa-check"></i><b>7</b> Technical Analysis using R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="7-1-technical-analysis-ta-using-r.html"><a href="7-1-technical-analysis-ta-using-r.html"><i class="fa fa-check"></i><b>7.1</b> Technical Analysis (TA) using R</a></li>
<li class="chapter" data-level="7.2" data-path="7-2-technical-charts.html"><a href="7-2-technical-charts.html"><i class="fa fa-check"></i><b>7.2</b> Technical Charts</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="7-2-technical-charts.html"><a href="7-2-technical-charts.html#candlesticks-and-ohlc-chart"><i class="fa fa-check"></i><b>7.2.1</b> Candlesticks and OHLC chart</a></li>
<li class="chapter" data-level="7.2.2" data-path="7-2-technical-charts.html"><a href="7-2-technical-charts.html#line-chart"><i class="fa fa-check"></i><b>7.2.2</b> Line chart</a></li>
<li class="chapter" data-level="7.2.3" data-path="7-2-technical-charts.html"><a href="7-2-technical-charts.html#candlestick-chart"><i class="fa fa-check"></i><b>7.2.3</b> Candlestick chart</a></li>
<li class="chapter" data-level="7.2.4" data-path="7-2-technical-charts.html"><a href="7-2-technical-charts.html#add-technical-indicators"><i class="fa fa-check"></i><b>7.2.4</b> Add technical indicators</a></li>
<li class="chapter" data-level="7.2.5" data-path="7-2-technical-charts.html"><a href="7-2-technical-charts.html#adding-indicators-sequentially"><i class="fa fa-check"></i><b>7.2.5</b> Adding indicators sequentially</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="8-linear-regression.html"><a href="8-linear-regression.html"><i class="fa fa-check"></i><b>8</b> Linear Regression</a>
<ul>
<li class="chapter" data-level="8.1" data-path="8-1-investment-beta-using-r-single-index-model.html"><a href="8-1-investment-beta-using-r-single-index-model.html"><i class="fa fa-check"></i><b>8.1</b> Investment <span class="math inline">\(\beta\)</span> using R (Single Index Model)</a></li>
<li class="chapter" data-level="8.2" data-path="8-2-data-preprocessing-1.html"><a href="8-2-data-preprocessing-1.html"><i class="fa fa-check"></i><b>8.2</b> Data preprocessing</a></li>
<li class="chapter" data-level="8.3" data-path="8-3-visualisation.html"><a href="8-3-visualisation.html"><i class="fa fa-check"></i><b>8.3</b> Visualisation</a></li>
<li class="chapter" data-level="8.4" data-path="8-4-regression-analysis-using-lm.html"><a href="8-4-regression-analysis-using-lm.html"><i class="fa fa-check"></i><b>8.4</b> Regression analysis using lm</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="9-forecasting-var-using-garch-models.html"><a href="9-forecasting-var-using-garch-models.html"><i class="fa fa-check"></i><b>9</b> Forecasting VaR using GARCH Models</a>
<ul>
<li class="chapter" data-level="9.1" data-path="9-1-value-at-risk.html"><a href="9-1-value-at-risk.html"><i class="fa fa-check"></i><b>9.1</b> Value at Risk</a></li>
<li class="chapter" data-level="9.2" data-path="9-2-volatility-modelling-forecasting-using-garch.html"><a href="9-2-volatility-modelling-forecasting-using-garch.html"><i class="fa fa-check"></i><b>9.2</b> Volatility Modelling &amp; Forecasting using GARCH</a></li>
<li class="chapter" data-level="9.3" data-path="9-3-garch11-to-forecast-var.html"><a href="9-3-garch11-to-forecast-var.html"><i class="fa fa-check"></i><b>9.3</b> GARCH(1,1) to forecast VaR</a></li>
<li class="chapter" data-level="9.4" data-path="9-4-var-forecasts-using-out-of-sample.html"><a href="9-4-var-forecasts-using-out-of-sample.html"><i class="fa fa-check"></i><b>9.4</b> VaR forecasts using out of sample</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="10-portfolio-modelling-using-r.html"><a href="10-portfolio-modelling-using-r.html"><i class="fa fa-check"></i><b>10</b> Portfolio Modelling using R</a></li>
<li class="part"><span><b>Part III</b></span></li>
<li class="chapter" data-level="11" data-path="11-machine-learning-using-r-introduction-to-data-splitting-sampling-resampling.html"><a href="11-machine-learning-using-r-introduction-to-data-splitting-sampling-resampling.html"><i class="fa fa-check"></i><b>11</b> Machine Learning using R-Introduction to Data Splitting, Sampling &amp; Resampling</a>
<ul>
<li class="chapter" data-level="11.1" data-path="11-1-machine-learning-process-quick-intro.html"><a href="11-1-machine-learning-process-quick-intro.html"><i class="fa fa-check"></i><b>11.1</b> Machine Learning Process (Quick Intro)</a></li>
<li class="chapter" data-level="11.2" data-path="11-2-data-splitting-sampling.html"><a href="11-2-data-splitting-sampling.html"><i class="fa fa-check"></i><b>11.2</b> Data Splitting: Sampling</a></li>
<li class="chapter" data-level="11.3" data-path="11-3-random-sampling.html"><a href="11-3-random-sampling.html"><i class="fa fa-check"></i><b>11.3</b> Random Sampling</a>
<ul>
<li class="chapter" data-level="11.3.1" data-path="11-3-random-sampling.html"><a href="11-3-random-sampling.html#base-r"><i class="fa fa-check"></i><b>11.3.1</b> Base R</a></li>
<li class="chapter" data-level="11.3.2" data-path="11-3-random-sampling.html"><a href="11-3-random-sampling.html#using-the-caret-package"><i class="fa fa-check"></i><b>11.3.2</b> Using the <code>caret</code> package</a></li>
<li class="chapter" data-level="11.3.3" data-path="11-3-random-sampling.html"><a href="11-3-random-sampling.html#using-the-rsample-package"><i class="fa fa-check"></i><b>11.3.3</b> Using the <code>rsample</code> package</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="11-4-stratified-sampling.html"><a href="11-4-stratified-sampling.html"><i class="fa fa-check"></i><b>11.4</b> Stratified Sampling</a></li>
<li class="chapter" data-level="11.5" data-path="11-5-resampling.html"><a href="11-5-resampling.html"><i class="fa fa-check"></i><b>11.5</b> Resampling</a></li>
<li class="chapter" data-level="11.6" data-path="11-6-k-fold-cross-validation.html"><a href="11-6-k-fold-cross-validation.html"><i class="fa fa-check"></i><b>11.6</b> K-fold Cross Validation</a>
<ul>
<li class="chapter" data-level="" data-path="11-6-k-fold-cross-validation.html"><a href="11-6-k-fold-cross-validation.html#k-fold-cv-in-r"><i class="fa fa-check"></i>K-fold CV in R</a></li>
</ul></li>
<li class="chapter" data-level="11.7" data-path="11-7-cv-for-time-sereis-data.html"><a href="11-7-cv-for-time-sereis-data.html"><i class="fa fa-check"></i><b>11.7</b> CV for time sereis data</a>
<ul>
<li class="chapter" data-level="" data-path="11-7-cv-for-time-sereis-data.html"><a href="11-7-cv-for-time-sereis-data.html#cv-for-time-series-in-r"><i class="fa fa-check"></i>CV for time series in R</a></li>
</ul></li>
<li class="chapter" data-level="11.8" data-path="11-8-bootstrapping.html"><a href="11-8-bootstrapping.html"><i class="fa fa-check"></i><b>11.8</b> Bootstrapping</a>
<ul>
<li class="chapter" data-level="" data-path="11-8-bootstrapping.html"><a href="11-8-bootstrapping.html#bootsrapping-in-r"><i class="fa fa-check"></i>Bootsrapping in R</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="12" data-path="12-decision-trees-using-r.html"><a href="12-decision-trees-using-r.html"><i class="fa fa-check"></i><b>12</b> Decision Trees using R</a>
<ul>
<li class="chapter" data-level="12.1" data-path="12-1-import-data-and-pre-processing.html"><a href="12-1-import-data-and-pre-processing.html"><i class="fa fa-check"></i><b>12.1</b> Import Data and Pre-processing</a></li>
<li class="chapter" data-level="12.2" data-path="12-2-visualisation-some-features.html"><a href="12-2-visualisation-some-features.html"><i class="fa fa-check"></i><b>12.2</b> Visualisation some features</a></li>
<li class="chapter" data-level="12.3" data-path="12-3-creating-training-and-testing-set-and-control.html"><a href="12-3-creating-training-and-testing-set-and-control.html"><i class="fa fa-check"></i><b>12.3</b> Creating Training and Testing Set and Control</a></li>
<li class="chapter" data-level="12.4" data-path="12-4-train-the-model-on-the-training-set.html"><a href="12-4-train-the-model-on-the-training-set.html"><i class="fa fa-check"></i><b>12.4</b> Train the model on the training set</a></li>
<li class="chapter" data-level="12.5" data-path="12-5-prediction-and-accuracy.html"><a href="12-5-prediction-and-accuracy.html"><i class="fa fa-check"></i><b>12.5</b> Prediction and Accuracy</a>
<ul>
<li class="chapter" data-level="12.5.1" data-path="12-5-prediction-and-accuracy.html"><a href="12-5-prediction-and-accuracy.html#model-1"><i class="fa fa-check"></i><b>12.5.1</b> Model-1</a></li>
<li class="chapter" data-level="12.5.2" data-path="12-5-prediction-and-accuracy.html"><a href="12-5-prediction-and-accuracy.html#model-2"><i class="fa fa-check"></i><b>12.5.2</b> Model-2</a></li>
</ul></li>
<li class="chapter" data-level="12.6" data-path="12-6-feature-interpretation.html"><a href="12-6-feature-interpretation.html"><i class="fa fa-check"></i><b>12.6</b> Feature Interpretation</a></li>
<li class="chapter" data-level="12.7" data-path="12-7-tree-visualisation.html"><a href="12-7-tree-visualisation.html"><i class="fa fa-check"></i><b>12.7</b> Tree visualisation</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="13-text-mining-using-r.html"><a href="13-text-mining-using-r.html"><i class="fa fa-check"></i><b>13</b> Text Mining using R</a>
<ul>
<li class="chapter" data-level="13.1" data-path="13-1-introduction-to-text-mining.html"><a href="13-1-introduction-to-text-mining.html"><i class="fa fa-check"></i><b>13.1</b> Introduction to Text Mining</a>
<ul>
<li class="chapter" data-level="13.1.1" data-path="13-1-introduction-to-text-mining.html"><a href="13-1-introduction-to-text-mining.html#text-data"><i class="fa fa-check"></i><b>13.1.1</b> Text Data</a></li>
<li class="chapter" data-level="13.1.2" data-path="13-1-introduction-to-text-mining.html"><a href="13-1-introduction-to-text-mining.html#generic-text-mining-system"><i class="fa fa-check"></i><b>13.1.2</b> Generic Text Mining System</a></li>
<li class="chapter" data-level="13.1.3" data-path="13-1-introduction-to-text-mining.html"><a href="13-1-introduction-to-text-mining.html#data-pre-processing-in-text-mining"><i class="fa fa-check"></i><b>13.1.3</b> Data pre-processing in Text Mining</a></li>
</ul></li>
<li class="chapter" data-level="13.2" data-path="13-2-mining-twitter-text-data-using-r.html"><a href="13-2-mining-twitter-text-data-using-r.html"><i class="fa fa-check"></i><b>13.2</b> Mining Twitter Text Data using R</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="13-2-mining-twitter-text-data-using-r.html"><a href="13-2-mining-twitter-text-data-using-r.html#obtaining-twitter-data"><i class="fa fa-check"></i><b>13.2.1</b> Obtaining Twitter Data</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="13-3-download-data.html"><a href="13-3-download-data.html"><i class="fa fa-check"></i><b>13.3</b> Download Data</a></li>
<li class="chapter" data-level="13.4" data-path="13-4-data-pre-processing.html"><a href="13-4-data-pre-processing.html"><i class="fa fa-check"></i><b>13.4</b> Data Pre-processing</a></li>
<li class="chapter" data-level="13.5" data-path="13-5-some-visualisation.html"><a href="13-5-some-visualisation.html"><i class="fa fa-check"></i><b>13.5</b> Some Visualisation</a></li>
<li class="chapter" data-level="13.6" data-path="13-6-sentiment-analysis.html"><a href="13-6-sentiment-analysis.html"><i class="fa fa-check"></i><b>13.6</b> Sentiment Analysis</a>
<ul>
<li class="chapter" data-level="13.6.1" data-path="13-6-sentiment-analysis.html"><a href="13-6-sentiment-analysis.html#method"><i class="fa fa-check"></i><b>13.6.1</b> Method</a></li>
</ul></li>
<li class="chapter" data-level="13.7" data-path="13-7-topic-modelling.html"><a href="13-7-topic-modelling.html"><i class="fa fa-check"></i><b>13.7</b> Topic Modelling</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="14-work-in-progress.html"><a href="14-work-in-progress.html"><i class="fa fa-check"></i><b>14</b> Work in Progress</a></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li> <img src="firebrick3RA_img.png" height="60" width="60" style="position:bottom:0px;right:0px;"/></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Data Analytics</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="import-data-and-pre-processing" class="section level2" number="12.1">
<h2><span class="header-section-number">12.1</span> Import Data and Pre-processing</h2>
<p>Data discription is here <a href="https://onlinecourses.science.psu.edu/stat508/book/export/html/796" class="uri">https://onlinecourses.science.psu.edu/stat508/book/export/html/796</a></p>
<ul>
<li><p>20 variables</p>
<p>Status of existing checking account.
Duration in month
Credit history
Purpose
Credit amount
Savings account/bonds
Present employment since
Installment rate in percentage of disposable income
Personal status and sex
Other debtors / guarantors
Present residence since
Property
Age in years
Other installment plans
Housing
Number of existing credits at this bank
Job
Number of people being liable to provide maintenance for
Telephone
foreign worker</p></li>
</ul>
<div class="sourceCode" id="cb293"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb293-1"><a href="12-1-import-data-and-pre-processing.html#cb293-1" aria-hidden="true" tabindex="-1"></a>data_cr <span class="ot">=</span> <span class="fu">read.csv</span>(<span class="st">&quot;data/german_credit.csv&quot;</span>)</span>
<span id="cb293-2"><a href="12-1-import-data-and-pre-processing.html#cb293-2" aria-hidden="true" tabindex="-1"></a><span class="co"># preliminary analysis descriptive and visual</span></span>
<span id="cb293-3"><a href="12-1-import-data-and-pre-processing.html#cb293-3" aria-hidden="true" tabindex="-1"></a><span class="fu">str</span>(data_cr)</span></code></pre></div>
<pre><code>&#39;data.frame&#39;:   1000 obs. of  21 variables:
 $ Creditability                    : int  1 1 1 1 1 1 1 1 1 1 ...
 $ Account.Balance                  : int  1 1 2 1 1 1 1 1 4 2 ...
 $ Duration.of.Credit..month.       : int  18 9 12 12 12 10 8 6 18 24 ...
 $ Payment.Status.of.Previous.Credit: int  4 4 2 4 4 4 4 4 4 2 ...
 $ Purpose                          : int  2 0 9 0 0 0 0 0 3 3 ...
 $ Credit.Amount                    : int  1049 2799 841 2122 2171 2241 3398 1361 1098 3758 ...
 $ Value.Savings.Stocks             : int  1 1 2 1 1 1 1 1 1 3 ...
 $ Length.of.current.employment     : int  2 3 4 3 3 2 4 2 1 1 ...
 $ Instalment.per.cent              : int  4 2 2 3 4 1 1 2 4 1 ...
 $ Sex...Marital.Status             : int  2 3 2 3 3 3 3 3 2 2 ...
 $ Guarantors                       : int  1 1 1 1 1 1 1 1 1 1 ...
 $ Duration.in.Current.address      : int  4 2 4 2 4 3 4 4 4 4 ...
 $ Most.valuable.available.asset    : int  2 1 1 1 2 1 1 1 3 4 ...
 $ Age..years.                      : int  21 36 23 39 38 48 39 40 65 23 ...
 $ Concurrent.Credits               : int  3 3 3 3 1 3 3 3 3 3 ...
 $ Type.of.apartment                : int  1 1 1 1 2 1 2 2 2 1 ...
 $ No.of.Credits.at.this.Bank       : int  1 2 1 2 2 2 2 1 2 1 ...
 $ Occupation                       : int  3 3 2 2 2 2 2 2 1 1 ...
 $ No.of.dependents                 : int  1 2 1 2 1 2 1 2 1 1 ...
 $ Telephone                        : int  1 1 1 1 1 1 1 1 1 1 ...
 $ Foreign.Worker                   : int  1 1 1 2 2 2 2 2 1 1 ...</code></pre>
<div class="sourceCode" id="cb295"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb295-1"><a href="12-1-import-data-and-pre-processing.html#cb295-1" aria-hidden="true" tabindex="-1"></a><span class="co"># remove NA</span></span>
<span id="cb295-2"><a href="12-1-import-data-and-pre-processing.html#cb295-2" aria-hidden="true" tabindex="-1"></a>data_cr <span class="ot">=</span> <span class="fu">na.omit</span>(data_cr)</span>
<span id="cb295-3"><a href="12-1-import-data-and-pre-processing.html#cb295-3" aria-hidden="true" tabindex="-1"></a><span class="co"># quick summary</span></span>
<span id="cb295-4"><a href="12-1-import-data-and-pre-processing.html#cb295-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(data_cr)</span></code></pre></div>
<pre><code> Creditability Account.Balance Duration.of.Credit..month.
 Min.   :0.0   Min.   :1.000   Min.   : 4.0              
 1st Qu.:0.0   1st Qu.:1.000   1st Qu.:12.0              
 Median :1.0   Median :2.000   Median :18.0              
 Mean   :0.7   Mean   :2.577   Mean   :20.9              
 3rd Qu.:1.0   3rd Qu.:4.000   3rd Qu.:24.0              
 Max.   :1.0   Max.   :4.000   Max.   :72.0              
 Payment.Status.of.Previous.Credit    Purpose       Credit.Amount  
 Min.   :0.000                     Min.   : 0.000   Min.   :  250  
 1st Qu.:2.000                     1st Qu.: 1.000   1st Qu.: 1366  
 Median :2.000                     Median : 2.000   Median : 2320  
 Mean   :2.545                     Mean   : 2.828   Mean   : 3271  
 3rd Qu.:4.000                     3rd Qu.: 3.000   3rd Qu.: 3972  
 Max.   :4.000                     Max.   :10.000   Max.   :18424  
 Value.Savings.Stocks Length.of.current.employment Instalment.per.cent
 Min.   :1.000        Min.   :1.000                Min.   :1.000      
 1st Qu.:1.000        1st Qu.:3.000                1st Qu.:2.000      
 Median :1.000        Median :3.000                Median :3.000      
 Mean   :2.105        Mean   :3.384                Mean   :2.973      
 3rd Qu.:3.000        3rd Qu.:5.000                3rd Qu.:4.000      
 Max.   :5.000        Max.   :5.000                Max.   :4.000      
 Sex...Marital.Status   Guarantors    Duration.in.Current.address
 Min.   :1.000        Min.   :1.000   Min.   :1.000              
 1st Qu.:2.000        1st Qu.:1.000   1st Qu.:2.000              
 Median :3.000        Median :1.000   Median :3.000              
 Mean   :2.682        Mean   :1.145   Mean   :2.845              
 3rd Qu.:3.000        3rd Qu.:1.000   3rd Qu.:4.000              
 Max.   :4.000        Max.   :3.000   Max.   :4.000              
 Most.valuable.available.asset  Age..years.    Concurrent.Credits
 Min.   :1.000                 Min.   :19.00   Min.   :1.000     
 1st Qu.:1.000                 1st Qu.:27.00   1st Qu.:3.000     
 Median :2.000                 Median :33.00   Median :3.000     
 Mean   :2.358                 Mean   :35.54   Mean   :2.675     
 3rd Qu.:3.000                 3rd Qu.:42.00   3rd Qu.:3.000     
 Max.   :4.000                 Max.   :75.00   Max.   :3.000     
 Type.of.apartment No.of.Credits.at.this.Bank   Occupation    No.of.dependents
 Min.   :1.000     Min.   :1.000              Min.   :1.000   Min.   :1.000   
 1st Qu.:2.000     1st Qu.:1.000              1st Qu.:3.000   1st Qu.:1.000   
 Median :2.000     Median :1.000              Median :3.000   Median :1.000   
 Mean   :1.928     Mean   :1.407              Mean   :2.904   Mean   :1.155   
 3rd Qu.:2.000     3rd Qu.:2.000              3rd Qu.:3.000   3rd Qu.:1.000   
 Max.   :3.000     Max.   :4.000              Max.   :4.000   Max.   :2.000   
   Telephone     Foreign.Worker 
 Min.   :1.000   Min.   :1.000  
 1st Qu.:1.000   1st Qu.:1.000  
 Median :1.000   Median :1.000  
 Mean   :1.404   Mean   :1.037  
 3rd Qu.:2.000   3rd Qu.:1.000  
 Max.   :2.000   Max.   :2.000  </code></pre>
<ul>
<li>Let’s convert data types to as all of them are factors but some of them should be used as numeric</li>
</ul>
<div class="sourceCode" id="cb297"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb297-1"><a href="12-1-import-data-and-pre-processing.html#cb297-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sapply</span>(data_cr, class)</span></code></pre></div>
<pre><code>                    Creditability                   Account.Balance 
                        &quot;integer&quot;                         &quot;integer&quot; 
       Duration.of.Credit..month. Payment.Status.of.Previous.Credit 
                        &quot;integer&quot;                         &quot;integer&quot; 
                          Purpose                     Credit.Amount 
                        &quot;integer&quot;                         &quot;integer&quot; 
             Value.Savings.Stocks      Length.of.current.employment 
                        &quot;integer&quot;                         &quot;integer&quot; 
              Instalment.per.cent              Sex...Marital.Status 
                        &quot;integer&quot;                         &quot;integer&quot; 
                       Guarantors       Duration.in.Current.address 
                        &quot;integer&quot;                         &quot;integer&quot; 
    Most.valuable.available.asset                       Age..years. 
                        &quot;integer&quot;                         &quot;integer&quot; 
               Concurrent.Credits                 Type.of.apartment 
                        &quot;integer&quot;                         &quot;integer&quot; 
       No.of.Credits.at.this.Bank                        Occupation 
                        &quot;integer&quot;                         &quot;integer&quot; 
                 No.of.dependents                         Telephone 
                        &quot;integer&quot;                         &quot;integer&quot; 
                   Foreign.Worker 
                        &quot;integer&quot; </code></pre>
<div class="sourceCode" id="cb299"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb299-1"><a href="12-1-import-data-and-pre-processing.html#cb299-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Keep Duration.of.Credit..month and Credit.Amount as numeric rest to</span></span>
<span id="cb299-2"><a href="12-1-import-data-and-pre-processing.html#cb299-2" aria-hidden="true" tabindex="-1"></a><span class="co"># factors</span></span>
<span id="cb299-3"><a href="12-1-import-data-and-pre-processing.html#cb299-3" aria-hidden="true" tabindex="-1"></a>id <span class="ot">=</span> <span class="fu">c</span>(<span class="dv">1</span>, <span class="dv">2</span>, <span class="dv">4</span>, <span class="dv">5</span>, <span class="dv">7</span><span class="sc">:</span><span class="dv">21</span>)</span>
<span id="cb299-4"><a href="12-1-import-data-and-pre-processing.html#cb299-4" aria-hidden="true" tabindex="-1"></a>data_cr[id] <span class="ot">=</span> <span class="fu">lapply</span>(data_cr[id], as.factor)</span></code></pre></div>
<hr />
</div>
            </section>

          </div>
        </div>
      </div>
<a href="12-decision-trees-using-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="12-2-visualisation-some-features.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
